
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de prix de course VTC</title>
    <style>
        /* CSS existant */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #121212;
            color: #fff;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #1f1f1f;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        h1, h2 {
            text-align: center;
            color: #fff;
        }
        .tabs {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .tab {
            flex-grow: 1;
            text-align: center;
            padding: 10px;
            background-color: #444;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
        }
        .tab.active {
            background-color: #007bff;
        }
        .content {
            display: none;
            padding: 20px;
            background-color: #444;
            border-radius: 0 0 5px 5px;
        }
        .content.active {
            display: block;
        }
        label {
            display: block;
            margin-bottom: 10px;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #444;
            color: #fff;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        .result {
            margin-top: 20px;
            padding: 20px;
            background-color: #444;
            border-radius: 5px;
        }
        .presentation {
            margin-top: 20px;
            padding: 20px;
            background-color: #444;
            border-radius: 5px;
        }
        .historique {
            margin-top: 20px;
            padding: 20px;
            background-color: #444;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Calculateur de prix de course VTC</h1>
        
        <!-- Onglets -->
        <div class="tabs">
            <div class="tab" onclick="openTab('presentation')">Présentation</div>
            <div class="tab" onclick="openTab('course')">Calculer une course</div>
            <div class="tab" onclick="openTab('parametres')">Paramètres</div>
            <div class="tab" onclick="openTab('historique')">Historique</div>
        </div>

        <!-- Contenu des onglets -->
        <div id="presentation" class="content active">
            <div class="presentation">
                <h2>Présentation de l'application</h2>
                <p>Cette application vous permet de calculer le prix d'une course VTC en fonction de la distance parcourue et du temps estimé du trajet. Utilisez l'onglet "Calculer une course" pour obtenir la distance entre deux points et le temps de trajet, puis ajustez les tarifs kilométriques et horaires dans l'onglet "Paramètres".</p>
            </div>
        </div>

        <div id="course" class="content">
            <form id="courseForm">
                <label for="depart">Départ (adresse ou lieu) :</label>
                <input type="text" id="depart" name="depart" required>
                <label for="arrivee">Arrivée (adresse ou lieu) :</label>
                <input type="text" id="arrivee" name="arrivee" required>
                <button type="button" onclick="calculerPrix()">Calculer le prix de la course</button>
            </form>
            <div class="result" id="result"></div>
        </div>

        <div id="parametres" class="content">
            <form id="tarifsForm">
                <label for="tarifKilometrique">Tarif kilométrique (€/km) :</label>
                <input type="number" id="tarifKilometrique" name="tarifKilometrique" step="0.01" value="1.70" required>
                <label for="tarifHoraire">Tarif horaire (€/heure) :</label>
                <input type="number" id="tarifHoraire" name="tarifHoraire" step="0.01" value="36" required>
                <button type="button" onclick="enregistrerTarifs()">Enregistrer les tarifs</button>
            </form>
        </div>

        <div id="historique" class="content">
            <div class="historique">
                <h2>Historique des courses</h2>
                <!-- Votre contenu d'historique ici -->
            </div>
        </div>
    </div>

    <script>
        // Fonction d'ouverture d'onglet
        function openTab(tabName) {
            var tabs = document.querySelectorAll('.tab');
            var contents = document.querySelectorAll('.content');

            tabs.forEach(function(tab) {
                tab.classList.remove('active');
            });
            contents.forEach(function(content) {
                content.classList.remove('active');
            });

            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
        }

        // Fonction de calcul de prix de course
        function calculerPrix() {
            var depart = document.getElementById('depart').value;
            var arrivee = document.getElementById('arrivee').value;
            var tarifKilometrique = parseFloat(document.getElementById('tarifKilometrique').value);
            var tarifHoraire = parseFloat(document.getElementById('tarifHoraire').value);

            var request = {
                origin: depart,
                destination: arrivee,
                travelMode: 'DRIVING'
            };

            var service = new google.maps.DistanceMatrixService();
            service.getDistanceMatrix({
                origins: [depart],
                destinations: [arrivee],
                travelMode: 'DRIVING',
                unitSystem: google.maps.UnitSystem.METRIC,
            }, function(response, status) {
                if (status !== 'OK') {
                    alert('Erreur : ' + status);
                } else {
                    var distance = parseFloat(response.rows[0].elements[0].distance.value) / 1000; // Conversion en kilomètres
                    var temps = parseFloat(response.rows[0].elements[0].duration.value) / 3600; // Conversion en heures
                    var prixCourse = (distance * tarifKilometrique) + (temps * tarifHoraire);
                    document.getElementById('result').innerHTML = "<p>Le prix de la course est d'environ <strong>" + prixCourse.toFixed(2) + " €</strong>.</p>";

                    // Afficher le bouton Waze
                    document.getElementById('result').innerHTML += "<button onclick=\"ouvrirWaze('" + depart + "', '" + arrivee + "')\">Ouvrir dans Waze</button>";
                }
            });
        }

        // Fonction d'enregistrement des tarifs
        function enregistrerTarifs() {
            var tarifKilometrique = parseFloat(document.getElementById('tarifKilometrique').value);
            var tarifHoraire = parseFloat(document.getElementById('tarifHoraire').value);

            // Enregistrer les tarifs dans une base de données ou un autre système de stockage
            alert('Tarifs enregistrés : Tarif kilométrique = ' + tarifKilometrique + ' €/km, Tarif horaire = ' + tarifHoraire + ' €/heure.');
        }

        // Fonction d'ouverture de Waze
        function ouvrirWaze(depart, arrivee) {
            // Redirection vers Waze avec les coordonnées de départ et d'arrivée
            var url = "https://www.waze.com/ul?ll=" + depart + "," + arrivee + "&navigate=yes";
            window.open(url, "_blank");
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur de prix de course VTC</title>
    <style>
        /* Votre CSS ici */
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=weekly"></script>
</head>
<body>
    <div class="container">
        <!-- Onglets -->
        <!-- Contenu des onglets -->
    </div>

    <script>
        // Fonction de calcul de prix de course
        function calculerPrix() {
            var depart = document.getElementById('depart').value;
            var arrivee = document.getElementById('arrivee').value;
            var tarifKilometrique = parseFloat(document.getElementById('tarifKilometrique').value);
            var tarifHoraire = parseFloat(document.getElementById('tarifHoraire').value);

            var request = {
                origin: depart,
                destination: arrivee,
                travelMode: 'DRIVING'
            };

            var service = new google.maps.DistanceMatrixService();
            service.getDistanceMatrix({
                origins: [depart],
                destinations: [arrivee],
                travelMode: 'DRIVING',
                unitSystem: google.maps.UnitSystem.METRIC,
            }, function(response, status) {
                if (status !== 'OK') {
                    alert('Erreur : ' + status);
                } else {
                    var distance = parseFloat(response.rows[0].elements[0].distance.value) / 1000; // Conversion en kilomètres
                    var temps = parseFloat(response.rows[0].elements[0].duration.value) / 3600; // Conversion en heures
                    var prixCourse = (distance * tarifKilometrique) + (temps * tarifHoraire);
                    document.getElementById('result').innerHTML = "<p>Le prix de la course est d'environ <strong>" + prixCourse.toFixed(2) + " €</strong>.</p>";

                    // Afficher le bouton Google Maps
                    document.getElementById('result').innerHTML += "<button onclick=\"ouvrirGoogleMaps('" + depart + "', '" + arrivee + "')\">Ouvrir dans Google Maps</button>";
                }
            });
        }

        // Fonction d'ouverture de Google Maps avec départ et arrivée
        function ouvrirGoogleMaps(depart, arrivee) {
            // Redirection vers Google Maps avec les coordonnées de départ et d'arrivée
            var url = "https://www.google.com/maps/dir/?api=1&origin=" + depart + "&destination=" + arrivee;
            window.open(url, "_blank");
        }
    </script>
</body>
</html>